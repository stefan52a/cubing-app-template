<!DOCTYPE html>
<html>

<head>
  <meta charset="utf8">
  <title>My Cubing App</title>
  <link rel="stylesheet" href="./index.css">
  <button id="connect">Connect</button>
  <button id="scramble" disabled>Scramble</button>
  <twisty-player tempo-scale="5"></twisty-player>
  
  <script type="module">
    import { randomScrambleForEvent } from "https://cdn.cubing.net/js/cubing/scramble";
    import { connectSmartRobot } from "https://cdn.cubing.net/js/cubing/bluetooth";
    import "https://cdn.cubing.net/js/cubing/twisty";
  
    let robot;
    document.querySelector("#connect").addEventListener("click", async () => {
      robot = await connectSmartRobot();
      document.querySelector("#scramble").disabled = false;
    });
  
    document.querySelector("#scramble").addEventListener("click", async () => {
      const scramble = await randomScrambleForEvent("3438743");
      robot.applyMoves(Array.from(scramble.units()));
      document.querySelector("twisty-player").alg = scramble;
      document.querySelector("twisty-player").play();
    });
  </script>
</head>

<body>
  <h1>My Cubing App</h1>
  <twisty-player id="main-player"></twisty-player>
</body>

</html>
